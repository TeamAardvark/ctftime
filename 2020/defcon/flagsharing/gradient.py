import numpy as np

shared = [(1, 13181812841969912923962476118805143209981090368791354227902584445593063354327407), (2, 31775331802405877071855219211055384008471428790188845820289267337956211362122796), (3, 19662340534460946483248754138617017154153487871804921946401577533723168799974253), (4, 8481201774991299641576846874396730403926285978172354703801728189172598775093640), (5, 19186611925575601711970659051496189860640482385034084904843491113724442055363921), (6, 25125996875444564704882699662495843578125895723467059344103276025237454287118306), (7, 13236198406538585721630558584914777205347350040304946057303037127725284632913595), (8, 22413753469513652445869138517319089212841697331248563931561514364045852878947201), (9, 29454734229664588927861011664525034153092731265831384538121396360127923161597101), (10, 26165268329824475520035116644206826237365416094075505797923140771750261216419026), (11, 24015763498834542187919867274732807548176320017225494275264622795198764013637529), (12, 19291412146956104128327944725318112573247472952153271528311403979613642785151588), (13, 19533171722149337846259206790862441928212470409319744358033990664587917827429440), (14, 23136009100271891314022563489292667345533094213279073090012480184859457371602878), (15, 28811994240010024525633177913699392604571750448888152691895717614454259433893505), (16, 26364731575474654904531357412270433288152851171659727956729891276735997873841283), (17, 23922763367094714440802680448039034785116921923358914205711202502392439130247051), (18, 25468457887905983687288631520908136684077483376172540193962574825368426196322750), (19, 14265330672622255719856469428306894973863001931894555573258671610759967489508393), (20, 29510146226556918329695338430409099133916277903792528374079843610961950810721778), (21, 13623481979228265716498990727938493356815705406676648663525667668210779643779864), (22, 18599792963022050016952464934802852926814190518053007703902182105868430544080307), (23, 13682782555886906948058915712617949246126576375022949832351592375294138754894061), (24, 23850984361365245660553937899655535946447335478442217074915336562219168232957003), (25, 23922090526928132033533784893344761297620234587435814961996769070048130802616233), (26, 30326610173601644893535590515834306806035811937719982992333316094960947179498602), (27, 32496701533253783469915336786308367743171276792387016752587337612705635590574344), (28, 22068715809681249631089705877612322106229472716156054785419710561720738944282665), (29, 31187259435385864087123974653440946326147977522023276093761421375608475562766553), (30, 13419135095996234093601509347099834233911461481460845444694008728725778281887847), (31, 24281166740043617485912431815353189687791763375116811496615496067258490032074440), (32, 12350270837128632302983524871941793687675759331395778084874443177321746755088507), (33, 17292174159806410417564692437009759170619674130223913915417523562120865624834562), (34, 29101450870516569993391787930714119910520386964011095519539288852837201806575703), (35, 26496095244303132392091432040338523760562495147587895457232865932562427184749130), (36, 20522442672041840285495953976558810718983275201077633984339052605970320376028362), (37, 40026664699666913406783964396053583836858023107074578851849431286536693337076001), (38, 14313327271324070756797029319019695642109636251757594132429324225663435998114954), (39, 34532609438798978403175757572417355069016118046328679957244726496326623955414638), (40, 24800405696794491220370597704549815145789188690025477314548284280994417565623397), (41, 27972218798937281199522270914696652731489269716798232840155762337452352058013068), (42, 31391198983893228718939063982230537293205334762348644703973829310258009283240138), (43, 21028671332009686985654668274148440336773119086466857174594018839827026833634480), (44, 23837517823492689455884426672574604494677950495708128998555679026819240722683001), (45, 15878456438256434476478182956687939866503862097572749144370922052518766746318480), (46, 26055083123250318186369687077497564215756679397151174301303215955272494266798007), (47, 26696371024404331247631029189950974172559177165497620266845424648207034110260486), (48, 22918262153102740901814678019489143941267391402977835578874627373007998692441875), (49, 29972641461991153922516067715664833907022831511583629503871108630269360820555207), (50,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         29502392333248934735517491772494648152971550199481657538955210636589941613481608), (51, 21379260242438781743845200979283131710958802529733345721942327532421330357712809), (52, 33953355310768946938754356672144333821590370410695998141566165289278548778137505), (53, 12086217982121362882984551291947237012318931293473665068032809360420333713885279), (54, 37507468247377219221813921807250638266327571276735547130394753154513815272657842), (55, 40639282061491857217476692101347240960353764401708911453625479804013524097553461), (56, 20338489376952198134158509066999861280639618070011532199301018868133759881306664), (57, 8050819180608331185965482169022347814098866185922110703686880520272777518186189), (58, 35327534034019413467582923753584965481653789695383700091547463249943278637818362), (59, 24697489449308120146213299767834601562884571078443466641040175090491709461987132), (60, 19587447857692097492960843854204246017817633309597617811364604990003400044392312), (61, 25046319298527051618764327511925918304527618519493524753376580656553252156435744), (62, 5901338318081855363254300891326701162624533353464184773152893389110233413347433), (63, 26112639127360505081437558503162611698955906184231674719347014156444961080988410), (64, 16172824273866919187732729801884359724991158733052934966818573677339533727674374), (65, 26633119998066518421886667912493073976243765208993968512624678931497819413130327), (66, 29594497540179657108542042909987242680673022276449034780627231721695593706634449), (67, 40483258877392655958817478442127696231719754992890004163213902965696353021457688), (68, 6641814602858835737573576388062942954038657472782474536355496232249577612126991), (69, 29396051455614476804133409588170921393134768004427732070376595129818630953659939), (70, 17897282649043137812537190985700369042618400804170158156167804492729377040832259), (71, 39383068883505366187075517177879163990360276674010640689865071456407347586912902), (72, 30332823930262210807531010982859809266013944603562176498033798560330949819277314), (73, 27252429597217358309838172472948719080684470734659584335117559957467382112528929), (74, 31244879297045278174110879277745357512152479118508974616252853836082118527395106), (75, 13765101177224701880312211193783072269520394989336474380487508069344775524197160), (76, 15847786415627826786911470179513790988702109802953999651456455518010955382638932), (77, 23504938523715571867281507419102687165582382076666870557331391429149242751983620), (78, 17771643217794347432093032915667322599604818633753339096930255260268580866969064), (79, 28172178832709783187029978382230467582982999375447947474891747061148438788277745), (80, 33805192601320217962283597486914034935595863759908559266513596153999750524953855), (81, 16200154229678341782167701843628823570179384867736943011705806070410753985295914), (82, 20531794330002623931949215999364009646230038435646578965587501419937180114479819), (83, 19806042256069985382135148356258394056802675693514229527541883602630997424824815), (84, 7430739899925043772344127376635405629727656960656964416434557372958193133539116), (85, 34964596717533138183798961216227536514316532846874532253003739758944535473096582), (86, 20112691198814328528777419081692524147551427831223572721482814587368601420332985), (87, 23567596081270057967115447571230705825530763662035608909581030084181668944189143), (88, 29251531885083965876705208244707078221430553850358601463819784662589031588280637), (89, 34625837951736577222631642025434122346791795432442863858034052125454633707561801), (90, 8488934173087990112535401678090694042724498549678755063410675547245474112304976), (91, 39338134004479878773665619755896065172287082349446243620184118549488150328474076), (92, 18619167131190044983924000360197788457007946173629047693590713118442489032823986), (93, 31104891705077912559723010687597402089479910858907184897227777985717316339674094), (94, 16104548605706130594889353795697064625751119209345894673245463046952535526206159), (95, 33179687307244222916054453683386614113789104081751093280400903147107520556690776), (96, 17264896406939697564250948323713117383673101260761652608180459806195554613085608), (97, 27234779428759025611565057399095431219282292503221913844547136650298804324550791), (98, 24173725525668503359536618529503044821716669550243260767779024484071373544725982), (99, 22223100522658962770602377946944252924944527880498101296509430927241574470200034)]

shared = [(1, 53401133735995930503019787986089115079673092759955981021793271101962301889245668), (2, 97335978596911308466956888467471322313806829600059322356371879297946536675745783), (3, 108825537244052001362947041446483692683711533436638182774727820743626115911554189), (4, 47892814364229529459804575432764971309997426001611330512355316785902328843147858), (5, 111428671177086944558987704717672400625502918167316975959787864888289654167390446), (6, 117918097338079772166156025409308923923940711201983640201703663355916466806802997), (7, 54288032079024244097170665716836327892811143312159729800607415793210655382232912), (8, 113973198566528962903948608453155633267983668451126109374714407616783621901565519), (9, 136258589911489166822231582402630312246146050355275104486731465376862015760344240), (10, 93269115312144319030826810322161976513798960778697665211132789297211082779905790), (11, 153797179772630959123241776237340198469982637602597879138778854608172485880545783), (12, 98977338135810550376347463814858426863618149393182934284652011781240519407760254), (13, 80702618424245950313320145205599621872061367807739665863097017846443993173485442), (14, 73610924341623322153108758992159051210243686410251649060964449423058616648265297), (15, 76709550405726185801611876700306764126318849115668295335398953583579728752844188), (16, 69841048094647986014458476818303175977145205462839133690735980379109580457241510), (17, 115804195845774773972820162557443617762446485440393856461731250385606448267117882), (18, 74875606821185922403563863258510035879428542025792951541905121259032357719748638), (19, 49379293332118754430946282961874134061596169909697124376900311923022429796322891), (20, 131822201373338226646693206627619515479419662092236966351006017031853254016584464), (21, 72442833904681163447098254283037740280623937336264140926312699078697391670036488), (22, 53892024213137519009311501707381416955671201529852750322642379278693484353247720), (23, 91872764639902836936075067382776278035539964310996598030857944146856503396849328), (24, 85494534074787440240135240667931709718564059063673435984050560759898168824862819), (25, 117911225301517251616653179705608554733123428765192392613170758818430035594666253), (26, 132546452410673781515357514106796737152257312679115073744843901916326700824884549), (27, 143406296984359548048050865113736584160392579272088724167971199532369875424518558), (28, 148595476867584167408194706248850505949894732954011698365315397591280731082550587), (29, 129713214985169985572103709609686836772047238974159790251809939353359710127474154), (30, 82517575147617570070641836377034171821854527915039929045946529380095078122386783), (31, 97042498697068422160609115348440631364653963838440659232017522046644269181957442), (32, 41317265552500813387984895879490469971195700175896359441137025957840825175868068), (33, 121866398688274842671821282614446588928601292241128431696467699223446474384630668), (34, 140896182438216718750186235336274194132786550172179718215528829168983235719537207), (35, 126882404875486608139280374728420330159231908006180426678889828601111849511722853), (36, 109472812526531433187553966599802596080608303921185353247439974029745600031235247), (37, 158356431173224141604082172845748165174284289491569196270494696507152386807162100), (38, 108651307126824332248000438556257951206307119837165182678229387043762688295452914), (39, 98759934139270642216435044447606297245754245346618450831170507136790013174326685), (40, 100743692805065723352251840309492951828654152564114404684707083999240432700406773), (41, 73911188843283334653117091489498669665872207154719428582377559718841496174610022), (42, 138897071265825578609100202400997311406644853440593846369670192876346972357043466), (43, 110621011486372275981994623516237810321992581390474323778465150818836175625448881), (44, 116856276323125719453977645582000240625078780159625069026702383821522073261016072), (45, 79084159081951029009684039779481564679103449054201801960015893299480746892115555), (46, 116132804313787623896463624410117684890451792503485644851374931958423025570373276), (47, 118798924117871720343749631941986339519521602603041578186094493250370269652759470), (48, 76545832988128817801383221562512661652243157107863370832715058603996946619147865), (49, 162605810876924960172908728573989134606340803234149344888594137894256094257462875), (50,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    108510744768460496650571371976256652036632728066613216563036459096745418321234789), (51, 76977374777415130078313326839754558535732608120232131738879744512104689980577118), (52, 113550463476655486289272941783841026442625220280641284125349422899994284661393061), (53, 82647678338427278926399874013583330501446922361201928872858395057031874419974560), (54, 110315389560019168403128863043861445283461162804922602116193410792263724303261377), (55, 182629639766186979230896105569652647156640473139502113858974428069546074415843733), (56, 78136138173049854539904098500555871525144432180426160465362349710468644845325501), (57, 49699005927559893150999467422643168832415935345057563065784308741353769421371463), (58, 183275713679916443456711540403188890293606159549130518842095733247923096241102629), (59, 119458794544617631361953625039480598227025029910191733648835522947907953299821257), (60, 98117963126368894205059399651469066726751765221693877311870981623356219391406670), (61, 70246849516992026227972977244461213037362678847093615310010162323258176696308386), (62, 53321710251381741450489272569209107879296701590087143273991391695177529952401581), (63, 97892503955943743459786364963670393879344032655437107813023328435393774909328452), (64, 37629988295835983450088634302498145650336576049761509258586758140938600183938086), (65, 115226348121317952196581538170566552563165044822031749895461973654904142188121679), (66, 112575131298027877445871552215154268411816662449121837556590603945051609602805617), (67, 129430909561819210651162105026139135620606463704471084845386606339168086697902462), (68, 37000666426591813613513276038604198380846072674954466393147354189175439524013759), (69, 145962199281547061053450674761684140703592721175903040272589444330684004329659287), (70, 121863638278197006520879354716456517777043270898936108532818568108758376597379644), (71, 182019938532399433378223447345920870336539265922470114067909157907878200261862806), (72, 143131111103764041051248976449966287863715389080551545145856877828759219557602951), (73, 88988291097691711999765879561958720592451438214381706093728129459224490590388217), (74, 88798451656841433944737556527555694519105652636309680461214008693675842981817406), (75, 69796968546934855519753353440335180803191205606258552741917718664372663876574567), (76, 91397910388229162669319890992852618398337114067170601935870504929540824835809943), (77, 67726260337059284649122460614770590904053138209940047009099998029631519080670482), (78, 81057659436429469668742701025964022694347476738060637323259975417344793369593371), (79, 83478822508006182317840941875847033781885370942731333519851857478166725711079705), (80, 158747783652446132820768666633870097307024049557400793725167673161245197405731029), (81, 94011302798594094654708486063527665273964325144240160437864235825505565108704895), (82, 121266564771055368031262203351483509443288732466097866777817729694048205826481433), (83, 90229127865697597110584805868694134809805449750025361940619183045514350909217215), (84, 65488737326549535767587704524145353234115982997102021936638889117329296873594175), (85, 173753311779296803145066289431831995755008496821684884420359114353559399744519325), (86, 82319586594024694638508691783874696516241245829710907927757526260112687415051164), (87, 110276905502796322243310697374578125316944464396010211926225471699828613580095647), (88, 101839523791209956913601493052059412147347191927703910014940745294036858136577859), (89, 164886223895130385758006287583079135875514183236525914440297485861170194076437090), (90, 48386325442100846360187417015530731794430821629560149880076462900825462567200867), (91, 135631805594491012572011151352285977854007763381350585990743166263914995368278662), (92, 92003812179138466374334011047488530006557473564742537769212832653157368661501471), (93, 123526843663963140006668539135950866022417028977867946672602965022265613077648203), (94, 121396407016878077113955326472910230912044547783915705718962717690919244788700978), (95, 153071867449611851659807321679097385711355541203927375384548841406772905084137076), (96, 121736923836240998736667084464425420631279674762594793522135959417441363048774102), (97, 87862806116793495291192224413438914888711715162645465174324945111343235989544693), (98, 107370882598414013573541991231877460579167996897634913799377051135030044086593117), (99, 66821474978667241918209349861674603364292467228007076715376510183845377348928108)]

data = [ [ x[1] for x in shared[i:i+5] ] for i in range(90) ]
y = [ 1 for i in range(len(data)) ]
# print(data)
X_b = np.matrix(data, dtype='float')
# print(X)
# X_b = np.c_[np.ones((len(data), 1)), X]
print(X_b.T.dot(X_b))
theta_best = np.linalg.inv(X_b.T.dot(X_b)).dot(X_b.T).dot(y)
# print(theta_best.reshape(5,1))
# print(X_b.dot(theta_best.reshape(5, 1)).round())

predict_shares = sorted([(2, 162147085244561593126435366485510256782741249196079288025039056620121141804423341), (88, 145170986676877719996375841748558179345245834597256170683518643141917229711526559), (10, 192722093539432955963452309815121902399678378788190331394251894764225023701839064), (91,
60701103091771957736720499436796188613375876044187616070799629447678396052254687), (21, 85330715232289992918230010192269282890761133910598503492527570631605883223370328), (28, 125280088472973725274540648641380218163348651129887621511576766242024377849826627), (1, 101467725057447711229415309530292420642937331245783103612806021351442242955448234)])

X_new_b = np.matrix([[x[1] for x in predict_shares[:5]]], dtype='float')
# print(X_new_b.dot(theta_best.reshape(5, 1)))
